import{b as We,j as qe,d as te,a as G,c as I,q as re,_ as ct}from"./@babel.f35c36d6.js";import{r as t}from"./react.6037337b.js";import{c as Me}from"./classnames.ebd64329.js";import{s as vt}from"./shallowequal.ea8d8004.js";import{K as ee,g as dt}from"./rc-util.9c09048a.js";var ce=t.exports.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0});function _e(e,s,n){return(e-s)/(n-s)}function De(e,s,n,m){var l=_e(s,n,m),i={};switch(e){case"rtl":i.right="".concat(l*100,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(l*100,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(l*100,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(l*100,"%"),i.transform="translateX(-50%)";break}return i}function ge(e,s){return Array.isArray(e)?e[s]:e}var ft=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],mt=t.exports.forwardRef(function(e,s){var n,m,l=e.prefixCls,i=e.value,c=e.valueIndex,x=e.onStartMove,y=e.style,k=e.render,S=e.dragging,h=e.onOffsetChange,g=We(e,ft),o=t.exports.useContext(ce),a=o.min,v=o.max,u=o.direction,f=o.disabled,r=o.range,b=o.tabIndex,L=o.ariaLabelForHandle,E=o.ariaLabelledByForHandle,O=o.ariaValueTextFormatterForHandle,M="".concat(l,"-handle"),p=function(A){f||x(A,c)},w=function(A){if(!f){var _=null;switch(A.which||A.keyCode){case ee.LEFT:_=u==="ltr"||u==="btt"?-1:1;break;case ee.RIGHT:_=u==="ltr"||u==="btt"?1:-1;break;case ee.UP:_=u!=="ttb"?1:-1;break;case ee.DOWN:_=u!=="ttb"?-1:1;break;case ee.HOME:_="min";break;case ee.END:_="max";break;case ee.PAGE_UP:_=2;break;case ee.PAGE_DOWN:_=-2;break}_!==null&&(A.preventDefault(),h(_,c))}},R=De(u,i,a,v),B=t.exports.createElement("div",qe({ref:s,className:Me(M,(n={},te(n,"".concat(M,"-").concat(c+1),r),te(n,"".concat(M,"-dragging"),S),n)),style:G(G({},R),y),onMouseDown:p,onTouchStart:p,onKeyDown:w,tabIndex:f?null:ge(b,c),role:"slider","aria-valuemin":a,"aria-valuemax":v,"aria-valuenow":i,"aria-disabled":f,"aria-label":ge(L,c),"aria-labelledby":ge(E,c),"aria-valuetext":(m=ge(O,c))===null||m===void 0?void 0:m(i)},g));return k&&(B=k(B,{index:c,prefixCls:l,value:i,dragging:S})),B}),gt=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],ht=t.exports.forwardRef(function(e,s){var n=e.prefixCls,m=e.style,l=e.onStartMove,i=e.onOffsetChange,c=e.values,x=e.handleRender,y=e.draggingIndex,k=We(e,gt),S=t.exports.useRef({});return t.exports.useImperativeHandle(s,function(){return{focus:function(g){var o;(o=S.current[g])===null||o===void 0||o.focus()}}}),t.exports.createElement(t.exports.Fragment,null,c.map(function(h,g){return t.exports.createElement(mt,qe({ref:function(a){a?S.current[g]=a:delete S.current[g]},dragging:y===g,prefixCls:n,style:ge(m,g),key:g,value:h,valueIndex:g,onStartMove:l,onOffsetChange:i,render:x},k))}))});function Ge(e){var s="touches"in e?e.touches[0]:e;return{pageX:s.pageX,pageY:s.pageY}}function xt(e,s,n,m,l,i,c,x,y){var k=t.exports.useState(null),S=I(k,2),h=S[0],g=S[1],o=t.exports.useState(-1),a=I(o,2),v=a[0],u=a[1],f=t.exports.useState(n),r=I(f,2),b=r[0],L=r[1],E=t.exports.useState(n),O=I(E,2),M=O[0],p=O[1],w=t.exports.useRef(null),R=t.exports.useRef(null);t.exports.useEffect(function(){v===-1&&L(n)},[n,v]),t.exports.useEffect(function(){return function(){document.removeEventListener("mousemove",w.current),document.removeEventListener("mouseup",R.current),document.removeEventListener("touchmove",w.current),document.removeEventListener("touchend",R.current)}},[]);var B=function(D,T){b.some(function(X,q){return X!==D[q]})&&(T!==void 0&&g(T),L(D),c(D))},N=function(D,T){if(D===-1){var X=M[0],q=M[M.length-1],he=m-X,xe=l-q,Y=T*(l-m);Y=Math.max(Y,he),Y=Math.min(Y,xe);var W=i(X+Y);Y=W-X;var ae=M.map(function(ve){return ve+Y});B(ae)}else{var z=(l-m)*T,J=re(b);J[D]=M[D];var ne=y(J,z,D,"dist");B(ne.values,ne.value)}},A=t.exports.useRef(N);A.current=N;var _=function(D,T){D.stopPropagation();var X=n[T];u(T),g(X),p(n);var q=Ge(D),he=q.pageX,xe=q.pageY,Y=function(z){z.preventDefault();var J=Ge(z),ne=J.pageX,ve=J.pageY,be=ne-he,Ce=ve-xe,Q=e.current.getBoundingClientRect(),oe=Q.width,ue=Q.height,P;switch(s){case"btt":P=-Ce/ue;break;case"ttb":P=Ce/ue;break;case"rtl":P=-be/oe;break;default:P=be/oe}A.current(T,P)},W=function ae(z){z.preventDefault(),document.removeEventListener("mouseup",ae),document.removeEventListener("mousemove",Y),document.removeEventListener("touchend",ae),document.removeEventListener("touchmove",Y),w.current=null,R.current=null,u(-1),x()};document.addEventListener("mouseup",W),document.addEventListener("mousemove",Y),document.addEventListener("touchend",W),document.addEventListener("touchmove",Y),w.current=Y,R.current=W},j=t.exports.useMemo(function(){var K=re(n).sort(function(T,X){return T-X}),D=re(b).sort(function(T,X){return T-X});return K.every(function(T,X){return T===D[X]})?b:n},[n,b]);return[v,h,j,_]}function bt(e){var s=e.prefixCls,n=e.style,m=e.start,l=e.end,i=e.index,c=e.onStartMove,x=t.exports.useContext(ce),y=x.direction,k=x.min,S=x.max,h=x.disabled,g=x.range,o="".concat(s,"-track"),a=_e(m,k,S),v=_e(l,k,S),u=function(b){!h&&c&&c(b,-1)},f={};switch(y){case"rtl":f.right="".concat(a*100,"%"),f.width="".concat(v*100-a*100,"%");break;case"btt":f.bottom="".concat(a*100,"%"),f.height="".concat(v*100-a*100,"%");break;case"ttb":f.top="".concat(a*100,"%"),f.height="".concat(v*100-a*100,"%");break;default:f.left="".concat(a*100,"%"),f.width="".concat(v*100-a*100,"%")}return t.exports.createElement("div",{className:Me(o,g&&"".concat(o,"-").concat(i+1)),style:G(G({},f),n),onMouseDown:u,onTouchStart:u})}function Ct(e){var s=e.prefixCls,n=e.style,m=e.values,l=e.startPoint,i=e.onStartMove,c=t.exports.useContext(ce),x=c.included,y=c.range,k=c.min,S=t.exports.useMemo(function(){if(!y){if(m.length===0)return[];var h=l!=null?l:k,g=m[0];return[{start:Math.min(h,g),end:Math.max(h,g)}]}for(var o=[],a=0;a<m.length-1;a+=1)o.push({start:m[a],end:m[a+1]});return o},[m,y,l,k]);return x?S.map(function(h,g){var o=h.start,a=h.end;return t.exports.createElement(bt,{index:g,prefixCls:s,style:ge(n,g),start:o,end:a,key:g,onStartMove:i})}):null}function yt(e){var s=e.prefixCls,n=e.style,m=e.children,l=e.value,i=e.onClick,c=t.exports.useContext(ce),x=c.min,y=c.max,k=c.direction,S=c.includedStart,h=c.includedEnd,g=c.included,o="".concat(s,"-text"),a=De(k,l,x,y);return t.exports.createElement("span",{className:Me(o,te({},"".concat(o,"-active"),g&&S<=l&&l<=h)),style:G(G({},a),n),onMouseDown:function(u){u.stopPropagation()},onClick:function(){i(l)}},m)}function St(e){var s=e.prefixCls,n=e.marks,m=e.onClick,l="".concat(s,"-mark");return n.length?t.exports.createElement("div",{className:l},n.map(function(i){var c=i.value,x=i.style,y=i.label;return t.exports.createElement(yt,{key:c,prefixCls:l,style:x,value:c,onClick:m},y)})):null}function Mt(e){var s=e.prefixCls,n=e.value,m=e.style,l=e.activeStyle,i=t.exports.useContext(ce),c=i.min,x=i.max,y=i.direction,k=i.included,S=i.includedStart,h=i.includedEnd,g="".concat(s,"-dot"),o=k&&S<=n&&n<=h,a=G(G({},De(y,n,c,x)),m);return o&&(a=G(G({},a),l)),t.exports.createElement("span",{className:Me(g,te({},"".concat(g,"-active"),o)),style:a})}function kt(e){var s=e.prefixCls,n=e.marks,m=e.dots,l=e.style,i=e.activeStyle,c=t.exports.useContext(ce),x=c.min,y=c.max,k=c.step,S=t.exports.useMemo(function(){var h=new Set;if(n.forEach(function(o){h.add(o.value)}),m)for(var g=x;g<=y;)h.add(g),g+=k;return Array.from(h)},[x,y,k,m,n]);return t.exports.createElement("div",{className:"".concat(s,"-step")},S.map(function(h){return t.exports.createElement(Mt,{prefixCls:s,key:h,value:h,style:l,activeStyle:i})}))}function Et(e,s,n,m,l,i){var c=t.exports.useCallback(function(o){var a=isFinite(o)?o:e;return a=Math.min(s,o),a=Math.max(e,a),a},[e,s]),x=t.exports.useCallback(function(o){if(n!==null){var a=e+Math.round((c(o)-e)/n)*n,v=function(b){return(String(b).split(".")[1]||"").length},u=Math.max(v(n),v(s),v(e)),f=Number(a.toFixed(u));return e<=f&&f<=s?f:null}return null},[n,e,s,c]),y=t.exports.useCallback(function(o){var a=c(o),v=m.map(function(r){return r.value});n!==null&&v.push(x(o)),v.push(e,s);var u=v[0],f=s-e;return v.forEach(function(r){var b=Math.abs(a-r);b<=f&&(u=r,f=b)}),u},[e,s,m,n,c,x]),k=function o(a,v,u){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof v=="number"){var r,b=a[u],L=b+v,E=[];m.forEach(function(R){E.push(R.value)}),E.push(e,s),E.push(x(b));var O=v>0?1:-1;f==="unit"?E.push(x(b+O*n)):E.push(x(L)),E=E.filter(function(R){return R!==null}).filter(function(R){return v<0?R<=b:R>=b}),f==="unit"&&(E=E.filter(function(R){return R!==b}));var M=f==="unit"?b:L;r=E[0];var p=Math.abs(r-M);if(E.forEach(function(R){var B=Math.abs(R-M);B<p&&(r=R,p=B)}),r===void 0)return v<0?e:s;if(f==="dist")return r;if(Math.abs(v)>1){var w=re(a);return w[u]=r,o(w,v-O,u,f)}return r}else{if(v==="min")return e;if(v==="max")return s}},S=function(a,v,u){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",r=a[u],b=k(a,v,u,f);return{value:b,changed:b!==r}},h=function(a){return i===null&&a===0||typeof i=="number"&&a<i},g=function(a,v,u){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",r=a.map(y),b=r[u],L=k(r,v,u,f);if(r[u]=L,l===!1){var E=i||0;u>0&&r[u-1]!==b&&(r[u]=Math.max(r[u],r[u-1]+E)),u<r.length-1&&r[u+1]!==b&&(r[u]=Math.min(r[u],r[u+1]-E))}else if(typeof i=="number"||i===null){for(var O=u+1;O<r.length;O+=1)for(var M=!0;h(r[O]-r[O-1])&&M;){var p=S(r,1,O);r[O]=p.value,M=p.changed}for(var w=u;w>0;w-=1)for(var R=!0;h(r[w]-r[w-1])&&R;){var B=S(r,-1,w-1);r[w-1]=B.value,R=B.changed}for(var N=r.length-1;N>0;N-=1)for(var A=!0;h(r[N]-r[N-1])&&A;){var _=S(r,-1,N-1);r[N-1]=_.value,A=_.changed}for(var j=0;j<r.length-1;j+=1)for(var K=!0;h(r[j+1]-r[j])&&K;){var D=S(r,1,j+1);r[j+1]=D.value,K=D.changed}}return{value:r[u],values:r}};return[y,g]}var _t=t.exports.forwardRef(function(e,s){var n,m=e.prefixCls,l=m===void 0?"rc-slider":m,i=e.className,c=e.style,x=e.disabled,y=x===void 0?!1:x,k=e.autoFocus,S=e.onFocus,h=e.onBlur,g=e.min,o=g===void 0?0:g,a=e.max,v=a===void 0?100:a,u=e.step,f=u===void 0?1:u,r=e.value,b=e.defaultValue,L=e.range,E=e.count,O=e.onChange,M=e.onBeforeChange,p=e.onAfterChange,w=e.allowCross,R=w===void 0?!0:w,B=e.pushable,N=B===void 0?!1:B,A=e.draggableTrack,_=e.reverse,j=e.vertical,K=e.included,D=K===void 0?!0:K,T=e.startPoint,X=e.trackStyle,q=e.handleStyle,he=e.railStyle,xe=e.dotStyle,Y=e.activeDotStyle,W=e.marks,ae=e.dots,z=e.handleRender,J=e.tabIndex,ne=J===void 0?0:J,ve=e.ariaLabelForHandle,be=e.ariaLabelledByForHandle,Ce=e.ariaValueTextFormatterForHandle,Q=t.exports.useRef(),oe=t.exports.useRef(),ue=t.exports.useMemo(function(){return j?_?"ttb":"btt":_?"rtl":"ltr"},[_,j]),P=t.exports.useMemo(function(){return isFinite(o)?o:0},[o]),de=t.exports.useMemo(function(){return isFinite(v)?v:100},[v]),ie=t.exports.useMemo(function(){return f!==null&&f<=0?1:f},[f]),ze=t.exports.useMemo(function(){return N===!0?ie:N>=0?N:!1},[N,ie]),ke=t.exports.useMemo(function(){var F=Object.keys(W||{});return F.map(function(C){var d=W[C],H={value:Number(C)};return d&&ct(d)==="object"&&!t.exports.isValidElement(d)&&("label"in d||"style"in d)?(H.style=d.style,H.label=d.label):H.label=d,H}).filter(function(C){var d=C.label;return d||typeof d=="number"}).sort(function(C,d){return C.value-d.value})},[W]),Je=Et(P,de,ie,ke,R,ze),Le=I(Je,2),Ee=Le[0],Pe=Le[1],Qe=dt(b,{value:r}),He=I(Qe,2),V=He[0],Ve=He[1],U=t.exports.useMemo(function(){var F=V==null?[]:Array.isArray(V)?V:[V],C=I(F,1),d=C[0],H=d===void 0?P:d,$=V===null?[]:[H];if(L){if($=re(F),E||V===void 0){var me=E>=0?E+1:2;for($=$.slice(0,me);$.length<me;){var se;$.push((se=$[$.length-1])!==null&&se!==void 0?se:P)}}$.sort(function(Z,ye){return Z-ye})}return $.forEach(function(Z,ye){$[ye]=Ee(Z)}),$},[V,L,P,E,Ee]),Re=t.exports.useRef(U);Re.current=U;var le=function(C){return L?C:C[0]},pe=function(C){var d=re(C).sort(function(H,$){return H-$});O&&!vt(d,Re.current)&&O(le(d)),Ve(d)},Oe=function(C){if(!y){var d=0,H=de-P;U.forEach(function(me,se){var Z=Math.abs(C-me);Z<=H&&(H=Z,d=se)});var $=re(U);$[d]=C,L&&!U.length&&E===void 0&&$.push(C),M==null||M(le($)),pe($),p==null||p(le($))}},Ze=function(C){C.preventDefault();var d=oe.current.getBoundingClientRect(),H=d.width,$=d.height,me=d.left,se=d.top,Z=d.bottom,ye=d.right,Ue=C.clientX,Ie=C.clientY,Se;switch(ue){case"btt":Se=(Z-Ie)/$;break;case"ttb":Se=(Ie-se)/$;break;case"rtl":Se=(ye-Ue)/H;break;default:Se=(Ue-me)/H}var st=P+Se*(de-P);Oe(Ee(st))},et=t.exports.useState(null),Te=I(et,2),Fe=Te[0],Ne=Te[1],tt=function(C,d){if(!y){var H=Pe(U,C,d);M==null||M(le(U)),pe(H.values),p==null||p(le(H.values)),Ne(H.value)}};t.exports.useEffect(function(){if(Fe!==null){var F=U.indexOf(Fe);F>=0&&Q.current.focus(F)}Ne(null)},[Fe]);var rt=t.exports.useMemo(function(){return A&&ie===null?!1:A},[A,ie]),at=function(){p==null||p(le(Re.current))},nt=xt(oe,ue,U,P,de,Ee,pe,at,Pe),$e=I(nt,4),Be=$e[0],ot=$e[1],we=$e[2],ut=$e[3],Ae=function(C,d){ut(C,d),M==null||M(le(Re.current))},Xe=Be!==-1;t.exports.useEffect(function(){if(!Xe){var F=U.lastIndexOf(ot);Q.current.focus(F)}},[Xe]);var fe=t.exports.useMemo(function(){return re(we).sort(function(F,C){return F-C})},[we]),it=t.exports.useMemo(function(){return L?[fe[0],fe[fe.length-1]]:[P,fe[0]]},[fe,L,P]),Ye=I(it,2),je=Ye[0],Ke=Ye[1];t.exports.useImperativeHandle(s,function(){return{focus:function(){Q.current.focus(0)},blur:function(){var C=document,d=C.activeElement;oe.current.contains(d)&&(d==null||d.blur())}}}),t.exports.useEffect(function(){k&&Q.current.focus(0)},[]);var lt=t.exports.useMemo(function(){return{min:P,max:de,direction:ue,disabled:y,step:ie,included:D,includedStart:je,includedEnd:Ke,range:L,tabIndex:ne,ariaLabelForHandle:ve,ariaLabelledByForHandle:be,ariaValueTextFormatterForHandle:Ce}},[P,de,ue,y,ie,D,je,Ke,L,ne,ve,be,Ce]);return t.exports.createElement(ce.Provider,{value:lt},t.exports.createElement("div",{ref:oe,className:Me(l,i,(n={},te(n,"".concat(l,"-disabled"),y),te(n,"".concat(l,"-vertical"),j),te(n,"".concat(l,"-horizontal"),!j),te(n,"".concat(l,"-with-marks"),ke.length),n)),style:c,onMouseDown:Ze},t.exports.createElement("div",{className:"".concat(l,"-rail"),style:he}),t.exports.createElement(Ct,{prefixCls:l,style:X,values:fe,startPoint:T,onStartMove:rt?Ae:null}),t.exports.createElement(kt,{prefixCls:l,marks:ke,dots:ae,style:xe,activeStyle:Y}),t.exports.createElement(ht,{ref:Q,prefixCls:l,style:q,values:we,draggingIndex:Be,onStartMove:Ae,onOffsetChange:tt,onFocus:S,onBlur:h,handleRender:z}),t.exports.createElement(St,{prefixCls:l,marks:ke,onClick:Oe})))});export{_t as S};
