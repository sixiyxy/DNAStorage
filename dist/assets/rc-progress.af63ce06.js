import{g as X}from"./@amap.c424e119.js";import{b as $,j as M,c as Z,_ as O}from"./@babel.578f1fd2.js";import{r as o}from"./react.c0c1c8db.js";import{c as U}from"./classnames.bb27ec0c.js";import{c as H}from"./rc-util.5178b2f6.js";var q={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},G=function(){var e=o.exports.useRef([]),n=o.exports.useRef(null);return o.exports.useEffect(function(){var a=Date.now(),t=!1;e.current.forEach(function(s){if(!!s){t=!0;var i=s.style;i.transitionDuration=".3s, .3s, .3s, .06s",n.current&&a-n.current<100&&(i.transitionDuration="0s, 0s")}}),t&&(n.current=Date.now())}),e.current},J=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],b=function(e){var n=e.className,a=e.percent,t=e.prefixCls,s=e.strokeColor,i=e.strokeLinecap,c=e.strokeWidth,k=e.style,u=e.trailColor,g=e.trailWidth,d=e.transition,h=$(e,J);delete h.gapPosition;var D=Array.isArray(a)?a:[a],l=Array.isArray(s)?s:[s],I=G(),y=c/2,x=100-c/2,P="M ".concat(i==="round"?y:0,",").concat(y,`
         L `).concat(i==="round"?x:100,",").concat(y),A="0 0 100 ".concat(c),v=0;return o.exports.createElement("svg",M({className:U("".concat(t,"-line"),n),viewBox:A,preserveAspectRatio:"none",style:k},h),o.exports.createElement("path",{className:"".concat(t,"-line-trail"),d:P,strokeLinecap:i,stroke:u,strokeWidth:g||c,fillOpacity:"0"}),D.map(function(C,W){var L=1;switch(i){case"round":L=1-c/100;break;case"square":L=1-c/2/100;break;default:L=1;break}var p={strokeDasharray:"".concat(C*L,"px, 100px"),strokeDashoffset:"-".concat(v,"px"),transition:d||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},f=l[W]||l[l.length-1];return v+=C,o.exports.createElement("path",{key:W,className:"".concat(t,"-line-path"),d:P,strokeLinecap:i,stroke:f,strokeWidth:c,fillOpacity:"0",ref:function(S){I[W]=S},style:p})}))};b.defaultProps=q;b.displayName="Line";var R=0,K=H();function Q(){var r;return K?(r=R,R+=1):r="TEST_OR_SSR",r}var Y=function(r){var e=o.exports.useState(),n=Z(e,2),a=n[0],t=n[1];return o.exports.useEffect(function(){t("rc_progress_".concat(Q()))},[]),r||a},_=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function T(r){return+r.replace("%","")}function j(r){var e=r!=null?r:[];return Array.isArray(e)?e:[e]}var m=100,B=function(e,n,a,t){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,k=arguments.length>7?arguments[7]:void 0,u=s>0?90+s/2:-90,g=Math.PI*2*e,d=g*((360-s)/360),h=n/100*360*((360-s)/360),D=s===0?0:{bottom:0,top:180,left:90,right:-90}[i],l=(100-a)/100*d;return c==="round"&&a!==100&&(l+=k/2,l>=d&&(l=d-.01)),{stroke:typeof t=="string"?t:void 0,strokeDasharray:"".concat(d,"px ").concat(g),strokeDashoffset:l,transform:"rotate(".concat(u+h+D,"deg)"),transformOrigin:"50% 50%",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},E=function(e){var n=e.id,a=e.prefixCls,t=e.strokeWidth,s=e.trailWidth,i=e.gapDegree,c=e.gapPosition,k=e.trailColor,u=e.strokeLinecap,g=e.style,d=e.className,h=e.strokeColor,D=e.percent,l=$(e,_),I=Y(n),y="".concat(I,"-gradient"),x=m/2-t/2,P=B(x,0,100,k,i,c,u,t),A=j(D),v=j(h),C=v.find(function(p){return p&&O(p)==="object"}),W=G(),L=function(){var f=0;return A.map(function(N,S){var w=v[S]||v[v.length-1],V=w&&O(w)==="object"?"url(#".concat(y,")"):void 0,z=B(x,f,N,w,i,c,u,t);return f+=N,o.exports.createElement("circle",{key:S,className:"".concat(a,"-circle-path"),r:x,cx:m/2,cy:m/2,stroke:V,strokeLinecap:u,strokeWidth:t,opacity:N===0?0:1,style:z,ref:function(F){W[S]=F}})}).reverse()};return o.exports.createElement("svg",M({className:U("".concat(a,"-circle"),d),viewBox:"0 0 ".concat(m," ").concat(m),style:g,id:n},l),C&&o.exports.createElement("defs",null,o.exports.createElement("linearGradient",{id:y,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(C).sort(function(p,f){return T(p)-T(f)}).map(function(p,f){return o.exports.createElement("stop",{key:f,offset:p,stopColor:C[p]})}))),o.exports.createElement("circle",{className:"".concat(a,"-circle-trail"),r:x,cx:m/2,cy:m/2,stroke:k,strokeLinecap:u,strokeWidth:s||t,style:P}),L())};E.defaultProps=q;E.displayName="Circle";var ee={Line:b,Circle:E},te=Object.freeze(Object.defineProperty({__proto__:null,Line:b,Circle:E,default:ee},Symbol.toStringTag,{value:"Module"})),ce=X(te);export{E as C,ce as r};
