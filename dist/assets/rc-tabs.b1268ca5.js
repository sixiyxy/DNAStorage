import{c as T,d as $,a as j,q as Je,j as Me,_ as lt,b as Lt}from"./@babel.f35c36d6.js";import{r as t}from"./react.6037337b.js";import{c as U}from"./classnames.ebd64329.js";import{e as pe,K as q,t as Bt,D as Wt,g as Qe}from"./rc-util.9c09048a.js";import{R as et}from"./rc-resize-observer.db6cce6c.js";import{E as Dt,M as Kt}from"./rc-menu.9d2aa6a3.js";import{D as $t}from"./rc-dropdown.934e8af0.js";function ut(e){var o=t.exports.useRef(),n=t.exports.useRef(!1);function i(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];n.current||(pe.cancel(o.current),o.current=pe(function(){e.apply(void 0,r)}))}return t.exports.useEffect(function(){return n.current=!1,function(){n.current=!0,pe.cancel(o.current)}},[]),i}function Ht(e){var o=t.exports.useRef([]),n=t.exports.useState({}),i=T(n,2),a=i[1],r=t.exports.useRef(typeof e=="function"?e():e),s=ut(function(){var c=r.current;o.current.forEach(function(v){c=v(c)}),o.current=[],r.current=c,a({})});function l(c){o.current.push(c),s()}return[r.current,l]}function Ot(e,o){var n,i=e.prefixCls,a=e.id,r=e.active,s=e.tab,l=s.key,c=s.tab,v=s.disabled,b=s.closeIcon,u=e.closable,h=e.renderWrapper,A=e.removeAriaLabel,S=e.editable,E=e.onClick,B=e.onRemove,K=e.onFocus,H=e.style,I="".concat(i,"-tab");t.exports.useEffect(function(){return B},[]);var R=S&&u!==!1&&!v;function L(g){v||E(g)}function G(g){g.preventDefault(),g.stopPropagation(),S.onEdit("remove",{key:l,event:g})}var O=t.exports.createElement("div",{key:l,ref:o,className:U(I,(n={},$(n,"".concat(I,"-with-remove"),R),$(n,"".concat(I,"-active"),r),$(n,"".concat(I,"-disabled"),v),n)),style:H,onClick:L},t.exports.createElement("div",{role:"tab","aria-selected":r,id:a&&"".concat(a,"-tab-").concat(l),className:"".concat(I,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(l),"aria-disabled":v,tabIndex:v?null:0,onClick:function(d){d.stopPropagation(),L(d)},onKeyDown:function(d){[q.SPACE,q.ENTER].includes(d.which)&&(d.preventDefault(),L(d))},onFocus:K},c),R&&t.exports.createElement("button",{type:"button","aria-label":A||"remove",tabIndex:0,className:"".concat(I,"-remove"),onClick:function(d){d.stopPropagation(),G(d)}},b||S.removeIcon||"\xD7"));return h?h(O):O}var Vt=t.exports.forwardRef(Ot),tt={width:0,height:0,left:0,top:0};function _t(e,o,n){return t.exports.useMemo(function(){for(var i,a=new Map,r=o.get((i=e[0])===null||i===void 0?void 0:i.key)||tt,s=r.left+r.width,l=0;l<e.length;l+=1){var c=e[l].key,v=o.get(c);if(!v){var b;v=o.get((b=e[l-1])===null||b===void 0?void 0:b.key)||tt}var u=a.get(c)||j({},v);u.right=s-u.left-u.width,a.set(c,u)}return a},[e.map(function(i){return i.key}).join("_"),o,n])}var at={width:0,height:0,left:0,top:0,right:0};function Ft(e,o,n,i,a){var r=a.tabs,s=a.tabPosition,l=a.rtl,c,v,b;["top","bottom"].includes(s)?(c="width",v=l?"right":"left",b=Math.abs(o.left)):(c="height",v="top",b=-o.top);var u=o[c],h=n[c],A=i[c],S=u;return h+A>u&&h<u&&(S=u-A),t.exports.useMemo(function(){if(!r.length)return[0,0];for(var E=r.length,B=E,K=0;K<E;K+=1){var H=e.get(r[K].key)||at;if(H[v]+H[c]>b+S){B=K-1;break}}for(var I=0,R=E-1;R>=0;R-=1){var L=e.get(r[R].key)||at;if(L[v]<b){I=R+1;break}}return[I,B]},[e,b,S,s,r.map(function(E){return E.key}).join("_"),l])}function jt(e,o){var n=e.prefixCls,i=e.editable,a=e.locale,r=e.style;return!i||i.showAdd===!1?null:t.exports.createElement("button",{ref:o,type:"button",className:"".concat(n,"-nav-add"),style:r,"aria-label":(a==null?void 0:a.addAriaLabel)||"Add tab",onClick:function(l){i.onEdit("add",{event:l})}},i.addIcon||"+")}var dt=t.exports.forwardRef(jt);function Gt(e,o){var n=e.prefixCls,i=e.id,a=e.tabs,r=e.locale,s=e.mobile,l=e.moreIcon,c=l===void 0?"More":l,v=e.moreTransitionName,b=e.style,u=e.className,h=e.editable,A=e.tabBarGutter,S=e.rtl,E=e.removeAriaLabel,B=e.onTabClick,K=e.popupClassName,H=t.exports.useState(!1),I=T(H,2),R=I[0],L=I[1],G=t.exports.useState(null),O=T(G,2),g=O[0],d=O[1],C="".concat(i,"-more-popup"),k="".concat(n,"-dropdown"),x=g!==null?"".concat(C,"-").concat(g):null,p=r==null?void 0:r.dropdownAriaLabel;function W(f,N){f.preventDefault(),f.stopPropagation(),h.onEdit("remove",{key:N,event:f})}var w=t.exports.createElement(Dt,{onClick:function(N){var D=N.key,V=N.domEvent;B(D,V),L(!1)},prefixCls:"".concat(k,"-menu"),id:C,tabIndex:-1,role:"listbox","aria-activedescendant":x,selectedKeys:[g],"aria-label":p!==void 0?p:"expanded dropdown"},a.map(function(f){var N=h&&f.closable!==!1&&!f.disabled;return t.exports.createElement(Kt,{key:f.key,id:"".concat(C,"-").concat(f.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(f.key),disabled:f.disabled},t.exports.createElement("span",null,f.tab),N&&t.exports.createElement("button",{type:"button","aria-label":E||"remove",tabIndex:0,className:"".concat(k,"-menu-item-remove"),onClick:function(V){V.stopPropagation(),W(V,f.key)}},f.closeIcon||h.removeIcon||"\xD7"))}));function J(f){for(var N=a.filter(function(X){return!X.disabled}),D=N.findIndex(function(X){return X.key===g})||0,V=N.length,re=0;re<V;re+=1){D=(D+f+V)%V;var Q=N[D];if(!Q.disabled){d(Q.key);return}}}function oe(f){var N=f.which;if(!R){[q.DOWN,q.SPACE,q.ENTER].includes(N)&&(L(!0),f.preventDefault());return}switch(N){case q.UP:J(-1),f.preventDefault();break;case q.DOWN:J(1),f.preventDefault();break;case q.ESC:L(!1);break;case q.SPACE:case q.ENTER:g!==null&&B(g,f);break}}t.exports.useEffect(function(){var f=document.getElementById(x);f&&f.scrollIntoView&&f.scrollIntoView(!1)},[g]),t.exports.useEffect(function(){R||d(null)},[R]);var Y=$({},S?"marginRight":"marginLeft",A);a.length||(Y.visibility="hidden",Y.order=1);var z=U($({},"".concat(k,"-rtl"),S)),ae=s?null:t.exports.createElement($t,{prefixCls:k,overlay:w,trigger:["hover"],visible:R,transitionName:v,onVisibleChange:L,overlayClassName:U(z,K),mouseEnterDelay:.1,mouseLeaveDelay:.1},t.exports.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:Y,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":C,id:"".concat(i,"-more"),"aria-expanded":R,onKeyDown:oe},c));return t.exports.createElement("div",{className:U("".concat(n,"-nav-operations"),u),style:b,ref:o},ae,t.exports.createElement(dt,{prefixCls:n,locale:r,editable:h}))}var zt=t.exports.memo(t.exports.forwardRef(Gt),function(e,o){return o.tabMoving}),Ae=t.exports.createContext(null),Ut=.1,rt=.01,Se=20,nt=Math.pow(.995,Se);function Yt(e,o){var n=t.exports.useState(),i=T(n,2),a=i[0],r=i[1],s=t.exports.useState(0),l=T(s,2),c=l[0],v=l[1],b=t.exports.useState(0),u=T(b,2),h=u[0],A=u[1],S=t.exports.useState(),E=T(S,2),B=E[0],K=E[1],H=t.exports.useRef();function I(d){var C=d.touches[0],k=C.screenX,x=C.screenY;r({x:k,y:x}),window.clearInterval(H.current)}function R(d){if(!!a){d.preventDefault();var C=d.touches[0],k=C.screenX,x=C.screenY;r({x:k,y:x});var p=k-a.x,W=x-a.y;o(p,W);var w=Date.now();v(w),A(w-c),K({x:p,y:W})}}function L(){if(!!a&&(r(null),K(null),B)){var d=B.x/h,C=B.y/h,k=Math.abs(d),x=Math.abs(C);if(Math.max(k,x)<Ut)return;var p=d,W=C;H.current=window.setInterval(function(){if(Math.abs(p)<rt&&Math.abs(W)<rt){window.clearInterval(H.current);return}p*=nt,W*=nt,o(p*Se,W*Se)},Se)}}var G=t.exports.useRef();function O(d){var C=d.deltaX,k=d.deltaY,x=0,p=Math.abs(C),W=Math.abs(k);p===W?x=G.current==="x"?C:k:p>W?(x=C,G.current="x"):(x=k,G.current="y"),o(-x,-x)&&d.preventDefault()}var g=t.exports.useRef(null);g.current={onTouchStart:I,onTouchMove:R,onTouchEnd:L,onWheel:O},t.exports.useEffect(function(){function d(p){g.current.onTouchStart(p)}function C(p){g.current.onTouchMove(p)}function k(p){g.current.onTouchEnd(p)}function x(p){g.current.onWheel(p)}return document.addEventListener("touchmove",C,{passive:!1}),document.addEventListener("touchend",k,{passive:!1}),e.current.addEventListener("touchstart",d,{passive:!1}),e.current.addEventListener("wheel",x),function(){document.removeEventListener("touchmove",C),document.removeEventListener("touchend",k)}},[])}function Xt(){var e=t.exports.useRef(new Map);function o(i){return e.current.has(i)||e.current.set(i,t.exports.createRef()),e.current.get(i)}function n(i){e.current.delete(i)}return[o,n]}function ot(e,o){var n=t.exports.useRef(e),i=t.exports.useState({}),a=T(i,2),r=a[1];function s(l){var c=typeof l=="function"?l(n.current):l;c!==n.current&&o(c,n.current),n.current=c,r({})}return[n.current,s]}var it=function(o){var n=o.position,i=o.prefixCls,a=o.extra;if(!a)return null;var r,s={};return a&&lt(a)==="object"&&!t.exports.isValidElement(a)?s=a:s.right=a,n==="right"&&(r=s.right),n==="left"&&(r=s.left),r?t.exports.createElement("div",{className:"".concat(i,"-extra-content")},r):null};function Zt(e,o){var n,i=t.exports.useContext(Ae),a=i.prefixCls,r=i.tabs,s=e.className,l=e.style,c=e.id,v=e.animated,b=e.activeKey,u=e.rtl,h=e.extra,A=e.editable,S=e.locale,E=e.tabPosition,B=e.tabBarGutter,K=e.children,H=e.onTabClick,I=e.onTabScroll,R=t.exports.useRef(),L=t.exports.useRef(),G=t.exports.useRef(),O=t.exports.useRef(),g=Xt(),d=T(g,2),C=d[0],k=d[1],x=E==="top"||E==="bottom",p=ot(0,function(y,m){x&&I&&I({direction:y>m?"left":"right"})}),W=T(p,2),w=W[0],J=W[1],oe=ot(0,function(y,m){!x&&I&&I({direction:y>m?"top":"bottom"})}),Y=T(oe,2),z=Y[0],ae=Y[1],f=t.exports.useState(0),N=T(f,2),D=N[0],V=N[1],re=t.exports.useState(0),Q=T(re,2),X=Q[0],Ee=Q[1],me=t.exports.useState(null),be=T(me,2),_=be[0],ie=be[1],Te=t.exports.useState(null),se=T(Te,2),Z=se[0],he=se[1],P=t.exports.useState(0),ee=T(P,2),ce=ee[0],ft=ee[1],vt=t.exports.useState(0),Le=T(vt,2),pt=Le[0],mt=Le[1],bt=Ht(new Map),Be=T(bt,2),ht=Be[0],xt=Be[1],xe=_t(r,ht,D),yt="".concat(a,"-nav-operations-hidden"),le=0,ue=0;x?u?(le=0,ue=Math.max(0,D-_)):(le=Math.min(0,_-D),ue=0):(le=Math.min(0,Z-X),ue=0);function Re(y){return y<le?le:y>ue?ue:y}var We=t.exports.useRef(),gt=t.exports.useState(),De=T(gt,2),ye=De[0],Ke=De[1];function Ce(){Ke(Date.now())}function ke(){window.clearTimeout(We.current)}Yt(R,function(y,m){function M(F,ne){F(function(fe){var Pe=Re(fe+ne);return Pe})}if(x){if(_>=D)return!1;M(J,y)}else{if(Z>=X)return!1;M(ae,m)}return ke(),Ce(),!0}),t.exports.useEffect(function(){return ke(),ye&&(We.current=window.setTimeout(function(){Ke(0)},100)),ke},[ye]);function $e(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b,m=xe.get(y)||{width:0,height:0,left:0,right:0,top:0};if(x){var M=w;u?m.right<w?M=m.right:m.right+m.width>w+_&&(M=m.right+m.width-_):m.left<-w?M=-m.left:m.left+m.width>-w+_&&(M=-(m.left+m.width-_)),ae(0),J(Re(M))}else{var F=z;m.top<-z?F=-m.top:m.top+m.height>-z+Z&&(F=-(m.top+m.height-Z)),J(0),ae(Re(F))}}var St=Ft(xe,{width:_,height:Z,left:w,top:z},{width:D,height:X},{width:ce,height:pt},j(j({},e),{},{tabs:r})),He=T(St,2),Et=He[0],Tt=He[1],ge={};E==="top"||E==="bottom"?ge[u?"marginRight":"marginLeft"]=B:ge.marginTop=B;var Oe=r.map(function(y,m){var M=y.key;return t.exports.createElement(Vt,{id:c,prefixCls:a,key:M,tab:y,style:m===0?void 0:ge,closable:y.closable,editable:A,active:M===b,renderWrapper:K,removeAriaLabel:S==null?void 0:S.removeAriaLabel,ref:C(M),onClick:function(ne){H(M,ne)},onRemove:function(){k(M)},onFocus:function(){$e(M),Ce(),R.current&&(u||(R.current.scrollLeft=0),R.current.scrollTop=0)}})}),we=ut(function(){var y,m,M,F,ne,fe,Pe=((y=R.current)===null||y===void 0?void 0:y.offsetWidth)||0,It=((m=R.current)===null||m===void 0?void 0:m.offsetHeight)||0,Ye=((M=O.current)===null||M===void 0?void 0:M.offsetWidth)||0,Xe=((F=O.current)===null||F===void 0?void 0:F.offsetHeight)||0;ie(Pe),he(It),ft(Ye),mt(Xe);var Pt=(((ne=L.current)===null||ne===void 0?void 0:ne.offsetWidth)||0)-Ye,Mt=(((fe=L.current)===null||fe===void 0?void 0:fe.offsetHeight)||0)-Xe;V(Pt),Ee(Mt),xt(function(){var Ze=new Map;return r.forEach(function(At){var qe=At.key,ve=C(qe).current;ve&&Ze.set(qe,{width:ve.offsetWidth,height:ve.offsetHeight,left:ve.offsetLeft,top:ve.offsetTop})}),Ze})}),Rt=r.slice(0,Et),Ct=r.slice(Tt+1),Ve=[].concat(Je(Rt),Je(Ct)),kt=t.exports.useState(),_e=T(kt,2),wt=_e[0],Nt=_e[1],te=xe.get(b),Fe=t.exports.useRef();function je(){pe.cancel(Fe.current)}t.exports.useEffect(function(){var y={};return te&&(x?(u?y.right=te.right:y.left=te.left,y.width=te.width):(y.top=te.top,y.height=te.height)),je(),Fe.current=pe(function(){Nt(y)}),je},[te,x,u]),t.exports.useEffect(function(){$e()},[b,te,xe,x]),t.exports.useEffect(function(){we()},[u,B,b,r.map(function(y){return y.key}).join("_")]);var Ge=!!Ve.length,de="".concat(a,"-nav-wrap"),Ne,Ie,ze,Ue;return x?u?(Ie=w>0,Ne=w+_<D):(Ne=w<0,Ie=-w+_<D):(ze=z<0,Ue=-z+Z<X),t.exports.createElement("div",{ref:o,role:"tablist",className:U("".concat(a,"-nav"),s),style:l,onKeyDown:function(){Ce()}},t.exports.createElement(it,{position:"left",extra:h,prefixCls:a}),t.exports.createElement(et,{onResize:we},t.exports.createElement("div",{className:U(de,(n={},$(n,"".concat(de,"-ping-left"),Ne),$(n,"".concat(de,"-ping-right"),Ie),$(n,"".concat(de,"-ping-top"),ze),$(n,"".concat(de,"-ping-bottom"),Ue),n)),ref:R},t.exports.createElement(et,{onResize:we},t.exports.createElement("div",{ref:L,className:"".concat(a,"-nav-list"),style:{transform:"translate(".concat(w,"px, ").concat(z,"px)"),transition:ye?"none":void 0}},Oe,t.exports.createElement(dt,{ref:O,prefixCls:a,locale:S,editable:A,style:j(j({},Oe.length===0?void 0:ge),{},{visibility:Ge?"hidden":null})}),t.exports.createElement("div",{className:U("".concat(a,"-ink-bar"),$({},"".concat(a,"-ink-bar-animated"),v.inkBar)),style:wt}))))),t.exports.createElement(zt,Me({},e,{removeAriaLabel:S==null?void 0:S.removeAriaLabel,ref:G,prefixCls:a,tabs:Ve,className:!Ge&&yt,tabMoving:!!ye})),t.exports.createElement(it,{position:"right",extra:h,prefixCls:a}))}var st=t.exports.forwardRef(Zt);function qt(e){var o=e.id,n=e.activeKey,i=e.animated,a=e.tabPosition,r=e.rtl,s=e.destroyInactiveTabPane,l=t.exports.useContext(Ae),c=l.prefixCls,v=l.tabs,b=i.tabPane,u=v.findIndex(function(h){return h.key===n});return t.exports.createElement("div",{className:U("".concat(c,"-content-holder"))},t.exports.createElement("div",{className:U("".concat(c,"-content"),"".concat(c,"-content-").concat(a),$({},"".concat(c,"-content-animated"),b)),style:u&&b?$({},r?"marginRight":"marginLeft","-".concat(u,"00%")):null},v.map(function(h){return t.exports.cloneElement(h.node,{key:h.key,prefixCls:c,tabKey:h.key,id:o,animated:b,active:h.key===n,destroyInactiveTabPane:s})})))}function Jt(e){var o=e.prefixCls,n=e.forceRender,i=e.className,a=e.style,r=e.id,s=e.active,l=e.animated,c=e.destroyInactiveTabPane,v=e.tabKey,b=e.children,u=t.exports.useState(n),h=T(u,2),A=h[0],S=h[1];t.exports.useEffect(function(){s?S(!0):c&&S(!1)},[s,c]);var E={};return s||(l?(E.visibility="hidden",E.height=0,E.overflowY="hidden"):E.display="none"),t.exports.createElement("div",{id:r&&"".concat(r,"-panel-").concat(v),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":r&&"".concat(r,"-tab-").concat(v),"aria-hidden":!s,style:j(j({},E),a),className:U("".concat(o,"-tabpane"),s&&"".concat(o,"-tabpane-active"),i)},(s||A||n)&&b)}var Qt=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","popupClassName"],ct=0;function ea(e){return Bt(e).map(function(o){if(t.exports.isValidElement(o)){var n=o.key!==void 0?String(o.key):void 0;return j(j({key:n},o.props),{},{node:o})}return null}).filter(function(o){return o})}function ta(e,o){var n,i=e.id,a=e.prefixCls,r=a===void 0?"rc-tabs":a,s=e.className,l=e.children,c=e.direction,v=e.activeKey,b=e.defaultActiveKey,u=e.editable,h=e.animated,A=h===void 0?{inkBar:!0,tabPane:!1}:h,S=e.tabPosition,E=S===void 0?"top":S,B=e.tabBarGutter,K=e.tabBarStyle,H=e.tabBarExtraContent,I=e.locale,R=e.moreIcon,L=e.moreTransitionName,G=e.destroyInactiveTabPane,O=e.renderTabBar,g=e.onChange,d=e.onTabClick,C=e.onTabScroll,k=e.popupClassName,x=Lt(e,Qt),p=ea(l),W=c==="rtl",w;A===!1?w={inkBar:!1,tabPane:!1}:A===!0?w={inkBar:!0,tabPane:!0}:w=j({inkBar:!0,tabPane:!1},lt(A)==="object"?A:{});var J=t.exports.useState(!1),oe=T(J,2),Y=oe[0],z=oe[1];t.exports.useEffect(function(){z(Wt())},[]);var ae=Qe(function(){var P;return(P=p[0])===null||P===void 0?void 0:P.key},{value:v,defaultValue:b}),f=T(ae,2),N=f[0],D=f[1],V=t.exports.useState(function(){return p.findIndex(function(P){return P.key===N})}),re=T(V,2),Q=re[0],X=re[1];t.exports.useEffect(function(){var P=p.findIndex(function(ce){return ce.key===N});if(P===-1){var ee;P=Math.max(0,Math.min(Q,p.length-1)),D((ee=p[P])===null||ee===void 0?void 0:ee.key)}X(P)},[p.map(function(P){return P.key}).join("_"),N,Q]);var Ee=Qe(null,{value:i}),me=T(Ee,2),be=me[0],_=me[1],ie=E;Y&&!["left","right"].includes(E)&&(ie="top"),t.exports.useEffect(function(){i||(_("rc-tabs-".concat(ct)),ct+=1)},[]);function Te(P,ee){d==null||d(P,ee);var ce=P!==N;D(P),ce&&(g==null||g(P))}var se={id:be,activeKey:N,animated:w,tabPosition:ie,rtl:W,mobile:Y},Z,he=j(j({},se),{},{editable:u,locale:I,moreIcon:R,moreTransitionName:L,tabBarGutter:B,onTabClick:Te,onTabScroll:C,extra:H,style:K,panes:l,popupClassName:k});return O?Z=O(he,st):Z=t.exports.createElement(st,he),t.exports.createElement(Ae.Provider,{value:{tabs:p,prefixCls:r}},t.exports.createElement("div",Me({ref:o,id:i,className:U(r,"".concat(r,"-").concat(ie),(n={},$(n,"".concat(r,"-mobile"),Y),$(n,"".concat(r,"-editable"),u),$(n,"".concat(r,"-rtl"),W),n),s)},x),Z,t.exports.createElement(qt,Me({destroyInactiveTabPane:G},se,{animated:w}))))}var aa=t.exports.forwardRef(ta);aa.TabPane=Jt;export{aa as F,Jt as T};
