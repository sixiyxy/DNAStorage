var F={exports:{}},I={exports:{}};(function(u){var s=u.exports;u.exports.isNumber=function(a){return typeof a=="number"},u.exports.findMin=function(a){if(a.length===0)return 1/0;for(var i=a[0],n=1;n<a.length;n++)i=Math.min(i,a[n]);return i},u.exports.findMax=function(a){if(a.length===0)return-1/0;for(var i=a[0],n=1;n<a.length;n++)i=Math.max(i,a[n]);return i},u.exports.findMinMulti=function(a){for(var i=s.findMin(a[0]),n=1;n<a.length;n++)i=Math.min(i,s.findMin(a[n]));return i},u.exports.findMaxMulti=function(a){for(var i=s.findMax(a[0]),n=1;n<a.length;n++)i=Math.max(i,s.findMax(a[n]));return i},u.exports.inside=function(a,i,n){return a<=n&&n<=i}})(I);(function(u){var s=50,a=2,i=Math.log(2),n=u.exports,c=I.exports;function P(e){return 1-Math.abs(e)}u.exports.getUnifiedMinMax=function(e,r){return n.getUnifiedMinMaxMulti([e],r)},u.exports.getUnifiedMinMaxMulti=function(e,r){r=r||{};var f=!1,t=!1,v=c.isNumber(r.width)?r.width:a,g=c.isNumber(r.size)?r.size:s,m=c.isNumber(r.min)?r.min:(f=!0,c.findMinMulti(e)),M=c.isNumber(r.max)?r.max:(t=!0,c.findMaxMulti(e)),d=M-m,x=d/(g-1);return f&&(m=m-2*v*x),t&&(M=M+2*v*x),{min:m,max:M}},u.exports.create=function(e,r){if(r=r||{},!e||e.length===0)return[];var f=c.isNumber(r.size)?r.size:s,t=c.isNumber(r.width)?r.width:a,v=n.getUnifiedMinMax(e,{size:f,width:t,min:r.min,max:r.max}),g=v.min,m=v.max,M=m-g,d=M/(f-1);if(M===0)return[{x:g,y:1}];for(var x=[],A=0;A<f;A++)x.push({x:g+A*d,y:0});var D=function(h){return Math.floor((h-g)/d)},o=B(P,t),w=o[t],y=o[t-1]-o[t-2],k=0;e.forEach(function(h){var l=D(h);if(!(l+t<0||l-t>=x.length)){var _=Math.max(l-t,0),L=l,z=Math.min(l+t,x.length-1),N=_-(l-t),C=l+t-z,V=o[-t-1+N]||0,W=o[-t-1+C]||0,p=w/(w-V-W);N>0&&(k+=p*(N-1)*y);var T=Math.max(0,l-t+1);c.inside(0,x.length-1,T)&&(x[T].y+=p*1*y),c.inside(0,x.length-1,L+1)&&(x[L+1].y-=p*2*y),c.inside(0,x.length-1,z+1)&&(x[z+1].y+=p*1*y)}});var b=k,U=0,E=0;return x.forEach(function(h){U+=h.y,b+=U,h.y=b,E+=b}),E>0&&x.forEach(function(h){h.y/=E}),x};function B(e,r){for(var f={},t=0,v=-r;v<=r;v++)t+=e(v/r),f[v]=t;return f}u.exports.getExpectedValueFromPdf=function(e){if(!(!e||e.length===0)){var r=0;return e.forEach(function(f){r+=f.x*f.y}),r}},u.exports.getXWithLeftTailArea=function(e,r){if(!(!e||e.length===0)){for(var f=0,t=0,v=0;v<e.length&&(t=v,f+=e[v].y,!(f>=r));v++);return e[t].x}},u.exports.getPerplexity=function(e){if(!(!e||e.length===0)){var r=0;return e.forEach(function(f){var t=Math.log(f.y);isFinite(t)&&(r+=f.y*t)}),r=-r/i,Math.pow(2,r)}}})(F);var G=F.exports;export{G as p};
