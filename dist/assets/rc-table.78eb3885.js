import{j as ce,_ as De,c as X,b as ge,a as m,d as T,q as Z}from"./@babel.8bd90f99.js";import{r as t}from"./react.5be2fbc9.js";import{s as Mn,t as In,i as Ke,O as $t,G as Ht,c as $n,I as Pt,z as Hn,Q as Bt,R as Pn,w as Bn,B as On}from"./rc-util.871488ff.js";import{c as ue}from"./classnames.88171464.js";import{s as Ft}from"./shallowequal.ea8d8004.js";import{R as ot}from"./rc-resize-observer.cd4dde61.js";function zn(e){return null}function Wn(e){return null}var Fn="RC_TABLE_KEY";function Kt(e){return e==null?[]:Array.isArray(e)?e:[e]}function At(e,n){if(!n&&typeof n!="number")return e;for(var r=Kt(n),o=e,a=0;a<r.length;a+=1){if(!o)return null;var s=r[a];o=o[s]}return o}function Ue(e){var n=[],r={};return e.forEach(function(o){for(var a=o||{},s=a.key,c=a.dataIndex,i=s||Kt(c).join("-")||Fn;r[i];)i="".concat(i,"_next");r[i]=!0,n.push(i)}),n}function tt(e){return e!=null}var Dt=t.exports.createContext(!1),Ut=t.exports.createContext({}),Vt=t.exports.createContext({renderWithProps:!1}),Kn=["colSpan","rowSpan","style","className"];function An(e,n,r,o){var a=e+n-1;return e<=o&&a>=r}function Dn(e){return e&&De(e)==="object"&&!Array.isArray(e)&&!t.exports.isValidElement(e)}function Un(e){return typeof e=="string"?!0:Mn(e)}var Vn=function(n){var r=n.ellipsis,o=n.rowType,a=n.children,s,c=r===!0?{showTitle:!0}:r;return c&&(c.showTitle||o==="header")&&(typeof a=="string"||typeof a=="number"?s=a.toString():t.exports.isValidElement(a)&&typeof a.props.children=="string"&&(s=a.props.children)),s};function Xn(e,n){var r,o,a,s=e.prefixCls,c=e.className,i=e.record,l=e.index,d=e.renderIndex,f=e.dataIndex,u=e.render,p=e.children,x=e.component,S=x===void 0?"td":x,w=e.colSpan,C=e.rowSpan,L=e.fixLeft,g=e.fixRight,F=e.firstFixLeft,k=e.lastFixLeft,O=e.firstFixRight,B=e.lastFixRight,W=e.appendNode,M=e.additionalProps,H=M===void 0?{}:M,K=e.ellipsis,P=e.align,I=e.rowType,$=e.isSticky,h=e.hovering,z=e.onHover,y="".concat(s,"-cell"),E=t.exports.useContext(Vt),v=t.exports.useContext(Dt),j=t.exports.useMemo(function(){if(tt(p))return[p];var le=At(i,f),Q=le,N=void 0;if(u){var pe=u(le,i,d);Dn(pe)?(Q=pe.children,N=pe.props,E.renderWithProps=!0):Q=pe}return[Q,N]},[E.renderWithProps?Math.random():0,p,f,E,i,u,d]),Y=X(j,2),me=Y[0],q=Y[1],V=me;De(V)==="object"&&!Array.isArray(V)&&!t.exports.isValidElement(V)&&(V=null),K&&(k||O)&&(V=t.exports.createElement("span",{className:"".concat(y,"-content")},V));var G=q||{},he=G.colSpan,ne=G.rowSpan,Re=G.style,Ee=G.className,Ne=ge(G,Kn),ve=(r=he!==void 0?he:w)!==null&&r!==void 0?r:1,fe=(o=ne!==void 0?ne:C)!==null&&o!==void 0?o:1;if(ve===0||fe===0)return null;var U={},D=typeof L=="number"&&v,_=typeof g=="number"&&v;D&&(U.position="sticky",U.left=L),_&&(U.position="sticky",U.right=g);var ee={};P&&(ee.textAlign=P);var re=function(Q){var N;i&&z(l,l+fe-1),H==null||(N=H.onMouseEnter)===null||N===void 0||N.call(H,Q)},oe=function(Q){var N;i&&z(-1,-1),H==null||(N=H.onMouseLeave)===null||N===void 0||N.call(H,Q)},ae=Vn({rowType:I,ellipsis:K,children:me}),Se=m(m(m({title:ae},Ne),H),{},{colSpan:ve!==1?ve:null,rowSpan:fe!==1?fe:null,className:ue(y,c,(a={},T(a,"".concat(y,"-fix-left"),D&&v),T(a,"".concat(y,"-fix-left-first"),F&&v),T(a,"".concat(y,"-fix-left-last"),k&&v),T(a,"".concat(y,"-fix-right"),_&&v),T(a,"".concat(y,"-fix-right-first"),O&&v),T(a,"".concat(y,"-fix-right-last"),B&&v),T(a,"".concat(y,"-ellipsis"),K),T(a,"".concat(y,"-with-append"),W),T(a,"".concat(y,"-fix-sticky"),(D||_)&&$&&v),T(a,"".concat(y,"-row-hover"),!q&&h),a),H.className,Ee),style:m(m(m(m({},H.style),ee),U),Re),onMouseEnter:re,onMouseLeave:oe,ref:Un(S)?n:null});return t.exports.createElement(S,Se,W,V)}var Xt=t.exports.forwardRef(Xn);Xt.displayName="Cell";var jn=["expanded","className","hovering"],Yn=t.exports.memo(Xt,function(e,n){return n.shouldCellUpdate?jn.every(function(r){return e[r]===n[r]})&&!n.shouldCellUpdate(n.record,e.record):Ft(e,n)}),Me=t.exports.forwardRef(function(e,n){var r=t.exports.useContext(Ut),o=r.onHover,a=r.startRow,s=r.endRow,c=e.index,i=e.additionalProps,l=i===void 0?{}:i,d=e.colSpan,f=e.rowSpan,u=l.colSpan,p=l.rowSpan,x=d!=null?d:u,S=f!=null?f:p,w=An(c,S||1,a,s);return t.exports.createElement(Yn,ce({},e,{colSpan:x,rowSpan:S,hovering:w,ref:n,onHover:o}))});Me.displayName="WrappedCell";var de=t.exports.createContext(null);function at(e,n,r,o,a){var s=r[e]||{},c=r[n]||{},i,l;s.fixed==="left"?i=o.left[e]:c.fixed==="right"&&(l=o.right[n]);var d=!1,f=!1,u=!1,p=!1,x=r[n+1],S=r[e-1];if(a==="rtl"){if(i!==void 0){var w=S&&S.fixed==="left";p=!w}else if(l!==void 0){var C=x&&x.fixed==="right";u=!C}}else if(i!==void 0){var L=x&&x.fixed==="left";d=!L}else if(l!==void 0){var g=S&&S.fixed==="right";f=!g}return{fixLeft:i,fixRight:l,lastFixLeft:d,firstFixRight:f,lastFixRight:u,firstFixLeft:p,isSticky:o.isSticky}}function jt(e){var n=e.cells,r=e.stickyOffsets,o=e.flattenColumns,a=e.rowComponent,s=e.cellComponent,c=e.onHeaderRow,i=e.index,l=t.exports.useContext(de),d=l.prefixCls,f=l.direction,u;c&&(u=c(n.map(function(x){return x.column}),i));var p=Ue(n.map(function(x){return x.column}));return t.exports.createElement(a,u,n.map(function(x,S){var w=x.column,C=at(x.colStart,x.colEnd,o,r,f),L;return w&&w.onHeaderCell&&(L=x.column.onHeaderCell(w)),t.exports.createElement(Me,ce({},x,{ellipsis:w.ellipsis,align:w.align,component:s,prefixCls:d,key:p[S]},C,{additionalProps:L,rowType:"header"}))}))}jt.displayName="HeaderRow";function Gn(e){var n=[];function r(c,i){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;n[l]=n[l]||[];var d=i,f=c.filter(Boolean).map(function(u){var p={key:u.key,className:u.className||"",children:u.title,column:u,colStart:d},x=1,S=u.children;return S&&S.length>0&&(x=r(S,d,l+1).reduce(function(w,C){return w+C},0),p.hasSubColumns=!0),"colSpan"in u&&(x=u.colSpan),"rowSpan"in u&&(p.rowSpan=u.rowSpan),p.colSpan=x,p.colEnd=p.colStart+x-1,n[l].push(p),d+=x,x});return f}r(e,0);for(var o=n.length,a=function(i){n[i].forEach(function(l){!("rowSpan"in l)&&!l.hasSubColumns&&(l.rowSpan=o-i)})},s=0;s<o;s+=1)a(s);return n}function Ot(e){var n=e.stickyOffsets,r=e.columns,o=e.flattenColumns,a=e.onHeaderRow,s=t.exports.useContext(de),c=s.prefixCls,i=s.getComponent,l=t.exports.useMemo(function(){return Gn(r)},[r]),d=i(["header","wrapper"],"thead"),f=i(["header","row"],"tr"),u=i(["header","cell"],"th");return t.exports.createElement(d,{className:"".concat(c,"-thead")},l.map(function(p,x){var S=t.exports.createElement(jt,{key:x,flattenColumns:o,cells:p,stickyOffsets:n,rowComponent:f,cellComponent:u,onHeaderRow:a,index:x});return S}))}var lt=t.exports.createContext(null),Yt=t.exports.createContext(null);function Gt(e){var n=e.prefixCls,r=e.children,o=e.component,a=e.cellComponent,s=e.className,c=e.expanded,i=e.colSpan,l=e.isEmpty,d=t.exports.useContext(de),f=d.scrollbarSize,u=t.exports.useContext(Yt),p=u.fixHeader,x=u.fixColumn,S=u.componentWidth,w=u.horizonScroll;return t.exports.useMemo(function(){var C=r;return(l?w:x)&&(C=t.exports.createElement("div",{style:{width:S-(p?f:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(n,"-expanded-row-fixed")},S!==0&&C)),t.exports.createElement(o,{className:s,style:{display:c?null:"none"}},t.exports.createElement(Me,{component:a,prefixCls:n,colSpan:i},C))},[r,o,s,c,i,l,f,S,x,p,w])}var _t=t.exports.createContext(null);function qt(e){var n=e.className,r=e.style,o=e.record,a=e.index,s=e.renderIndex,c=e.rowKey,i=e.rowExpandable,l=e.expandedKeys,d=e.onRow,f=e.indent,u=f===void 0?0:f,p=e.rowComponent,x=e.cellComponent,S=e.childrenColumnName,w=t.exports.useContext(de),C=w.prefixCls,L=w.fixedInfoList,g=t.exports.useContext(lt),F=g.flattenColumns,k=g.expandableType,O=g.expandRowByClick,B=g.onTriggerExpand,W=g.rowClassName,M=g.expandedRowClassName,H=g.indentSize,K=g.expandIcon,P=g.expandedRowRender,I=g.expandIconColumnIndex,$=t.exports.useState(!1),h=X($,2),z=h[0],y=h[1],E=l&&l.has(e.recordKey);t.exports.useEffect(function(){E&&y(!0)},[E]);var v=k==="row"&&(!i||i(o)),j=k==="nest",Y=S&&o&&o[S],me=v||j,q=t.exports.useRef(B);q.current=B;var V=function(){q.current.apply(q,arguments)},G;d&&(G=d(o,a));var he=function(D){var _,ee;O&&me&&V(o,D);for(var re=arguments.length,oe=new Array(re>1?re-1:0),ae=1;ae<re;ae++)oe[ae-1]=arguments[ae];(_=G)===null||_===void 0||(ee=_.onClick)===null||ee===void 0||ee.call.apply(ee,[_,D].concat(oe))},ne;typeof W=="string"?ne=W:typeof W=="function"&&(ne=W(o,a,u));var Re=Ue(F),Ee=t.exports.createElement(p,ce({},G,{"data-row-key":c,className:ue(n,"".concat(C,"-row"),"".concat(C,"-row-level-").concat(u),ne,G&&G.className),style:m(m({},r),G?G.style:null),onClick:he}),F.map(function(U,D){var _=U.render,ee=U.dataIndex,re=U.className,oe=Re[D],ae=L[D],Se;D===(I||0)&&j&&(Se=t.exports.createElement(t.exports.Fragment,null,t.exports.createElement("span",{style:{paddingLeft:"".concat(H*u,"px")},className:"".concat(C,"-row-indent indent-level-").concat(u)}),K({prefixCls:C,expanded:E,expandable:Y,record:o,onExpand:V})));var le;return U.onCell&&(le=U.onCell(o,a)),t.exports.createElement(Me,ce({className:re,ellipsis:U.ellipsis,align:U.align,component:x,prefixCls:C,key:oe,record:o,index:a,renderIndex:s,dataIndex:ee,render:_,shouldCellUpdate:U.shouldCellUpdate,expanded:Se&&E},ae,{appendNode:Se,additionalProps:le}))})),Ne;if(v&&(z||E)){var ve=P(o,a,u+1,E),fe=M&&M(o,a,u);Ne=t.exports.createElement(Gt,{expanded:E,className:ue("".concat(C,"-expanded-row"),"".concat(C,"-expanded-row-level-").concat(u+1),fe),prefixCls:C,component:p,cellComponent:x,colSpan:F.length,isEmpty:!1},ve)}return t.exports.createElement(t.exports.Fragment,null,Ee,Ne)}qt.displayName="BodyRow";function Qt(e,n,r,o,a,s){var c=[];c.push({record:e,indent:n,index:s});var i=a(e),l=o==null?void 0:o.has(i);if(e&&Array.isArray(e[r])&&l)for(var d=0;d<e[r].length;d+=1){var f=Qt(e[r][d],n+1,r,o,a,d);c.push.apply(c,Z(f))}return c}function _n(e,n,r,o){var a=t.exports.useMemo(function(){if(r!=null&&r.size){for(var s=[],c=0;c<(e==null?void 0:e.length);c+=1){var i=e[c];s.push.apply(s,Z(Qt(i,0,n,r,o,c)))}return s}return e==null?void 0:e.map(function(l,d){return{record:l,indent:0,index:d}})},[e,n,r,o]);return a}function qn(e){var n=e.columnKey,r=e.onColumnResize,o=t.exports.useRef();return t.exports.useEffect(function(){o.current&&r(n,o.current.offsetWidth)},[]),t.exports.createElement(ot,{data:n},t.exports.createElement("td",{ref:o,style:{padding:0,border:0,height:0}},t.exports.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function Qn(e){var n=e.prefixCls,r=e.columnsKey,o=e.onColumnResize;return t.exports.createElement("tr",{"aria-hidden":"true",className:"".concat(n,"-measure-row"),style:{height:0,fontSize:0}},t.exports.createElement(ot.Collection,{onBatchResize:function(s){s.forEach(function(c){var i=c.data,l=c.size;o(i,l.offsetWidth)})}},r.map(function(a){return t.exports.createElement(qn,{key:a,columnKey:a,onColumnResize:o})})))}function Jn(e){var n=e.data,r=e.getRowKey,o=e.measureColumnWidth,a=e.expandedKeys,s=e.onRow,c=e.rowExpandable,i=e.emptyNode,l=e.childrenColumnName,d=t.exports.useContext(_t),f=d.onColumnResize,u=t.exports.useContext(de),p=u.prefixCls,x=u.getComponent,S=t.exports.useContext(lt),w=S.flattenColumns,C=_n(n,l,a,r),L=t.exports.useRef({renderWithProps:!1}),g=t.exports.useState(-1),F=X(g,2),k=F[0],O=F[1],B=t.exports.useState(-1),W=X(B,2),M=W[0],H=W[1],K=t.exports.useCallback(function($,h){O($),H(h)},[]),P=t.exports.useMemo(function(){return{startRow:k,endRow:M,onHover:K}},[K,k,M]),I=t.exports.useMemo(function(){var $=x(["body","wrapper"],"tbody"),h=x(["body","row"],"tr"),z=x(["body","cell"],"td"),y;n.length?y=C.map(function(v,j){var Y=v.record,me=v.indent,q=v.index,V=r(Y,j);return t.exports.createElement(qt,{key:V,rowKey:V,record:Y,recordKey:V,index:j,renderIndex:q,rowComponent:h,cellComponent:z,expandedKeys:a,onRow:s,getRowKey:r,rowExpandable:c,childrenColumnName:l,indent:me})}):y=t.exports.createElement(Gt,{expanded:!0,className:"".concat(p,"-placeholder"),prefixCls:p,component:h,cellComponent:z,colSpan:w.length,isEmpty:!0},i);var E=Ue(w);return t.exports.createElement($,{className:"".concat(p,"-tbody")},o&&t.exports.createElement(Qn,{prefixCls:p,columnsKey:E,onColumnResize:f}),y)},[n,p,s,o,a,r,x,i,w,l,f,c,C]);return t.exports.createElement(Vt.Provider,{value:L.current},t.exports.createElement(Ut.Provider,{value:P},I))}var Jt=t.exports.memo(Jn);Jt.displayName="Body";var Zn=["expandable"],Zt="RC_TABLE_INTERNAL_COL_DEFINE";function er(e){var n=e.expandable,r=ge(e,Zn),o;return"expandable"in e?o=m(m({},r),n):o=r,o.showExpandColumn===!1&&(o.expandIconColumnIndex=-1),o}var we={},tr=["children"],nr=["fixed"];function en(e){return In(e).filter(function(n){return t.exports.isValidElement(n)}).map(function(n){var r=n.key,o=n.props,a=o.children,s=ge(o,tr),c=m({key:r},s);return a&&(c.children=en(a)),c})}function nt(e){return e.reduce(function(n,r){var o=r.fixed,a=o===!0?"left":o,s=r.children;return s&&s.length>0?[].concat(Z(n),Z(nt(s).map(function(c){return m({fixed:a},c)}))):[].concat(Z(n),[m(m({},r),{},{fixed:a})])},[])}function rr(e){return e.map(function(n){var r=n.fixed,o=ge(n,nr),a=r;return r==="left"?a="right":r==="right"&&(a="left"),m({fixed:a},o)})}function or(e,n){var r=e.prefixCls,o=e.columns,a=e.children,s=e.expandable,c=e.expandedKeys,i=e.getRowKey,l=e.onTriggerExpand,d=e.expandIcon,f=e.rowExpandable,u=e.expandIconColumnIndex,p=e.direction,x=e.expandRowByClick,S=e.columnWidth,w=e.fixed,C=t.exports.useMemo(function(){return o||en(a)},[o,a]),L=t.exports.useMemo(function(){if(s){var k,O=C.slice();if(!O.includes(we)){var B=u||0;B>=0&&O.splice(B,0,we)}var W=O.indexOf(we);O=O.filter(function(P,I){return P!==we||I===W});var M=C[W],H;(w==="left"||w)&&!u?H="left":(w==="right"||w)&&u===C.length?H="right":H=M?M.fixed:null;var K=(k={},T(k,Zt,{className:"".concat(r,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),T(k,"title",""),T(k,"fixed",H),T(k,"className","".concat(r,"-row-expand-icon-cell")),T(k,"width",S),T(k,"render",function(I,$,h){var z=i($,h),y=c.has(z),E=f?f($):!0,v=d({prefixCls:r,expanded:y,expandable:E,record:$,onExpand:l});return x?t.exports.createElement("span",{onClick:function(Y){return Y.stopPropagation()}},v):v}),k);return O.map(function(P){return P===we?K:P})}return C.filter(function(P){return P!==we})},[s,C,i,c,d,p]),g=t.exports.useMemo(function(){var k=L;return n&&(k=n(k)),k.length||(k=[{render:function(){return null}}]),k},[n,L,p]),F=t.exports.useMemo(function(){return p==="rtl"?rr(nt(g)):nt(g)},[g,p]);return[g,F]}function tn(e){var n=t.exports.useRef(e),r=t.exports.useState({}),o=X(r,2),a=o[1],s=t.exports.useRef(null),c=t.exports.useRef([]);function i(l){c.current.push(l);var d=Promise.resolve();s.current=d,d.then(function(){if(s.current===d){var f=c.current,u=n.current;c.current=[],f.forEach(function(p){n.current=p(n.current)}),s.current=null,u!==n.current&&a({})}})}return t.exports.useEffect(function(){return function(){s.current=null}},[]),[n.current,i]}function ar(e){var n=t.exports.useRef(e||null),r=t.exports.useRef();function o(){window.clearTimeout(r.current)}function a(c){n.current=c,o(),r.current=window.setTimeout(function(){n.current=null,r.current=void 0},100)}function s(){return n.current}return t.exports.useEffect(function(){return o},[]),[a,s]}function lr(e,n,r){var o=t.exports.useMemo(function(){for(var a=[],s=[],c=0,i=0,l=0;l<n;l+=1)if(r==="rtl"){s[l]=i,i+=e[l]||0;var d=n-l-1;a[d]=c,c+=e[d]||0}else{a[l]=c,c+=e[l]||0;var f=n-l-1;s[f]=i,i+=e[f]||0}return{left:a,right:s}},[e,n,r]);return o}var sr=["columnType"];function nn(e){for(var n=e.colWidths,r=e.columns,o=e.columCount,a=[],s=o||r.length,c=!1,i=s-1;i>=0;i-=1){var l=n[i],d=r&&r[i],f=d&&d[Zt];if(l||f||c){var u=f||{};u.columnType;var p=ge(u,sr);a.unshift(t.exports.createElement("col",ce({key:i,style:{width:l}},p))),c=!0}}return t.exports.createElement("colgroup",null,a)}function zt(e){var n=e.className,r=e.children;return t.exports.createElement("div",{className:n},r)}var rn=t.exports.createContext({});function ir(e){var n=e.className,r=e.index,o=e.children,a=e.colSpan,s=a===void 0?1:a,c=e.rowSpan,i=e.align,l=t.exports.useContext(de),d=l.prefixCls,f=l.direction,u=t.exports.useContext(rn),p=u.scrollColumnIndex,x=u.stickyOffsets,S=u.flattenColumns,w=r+s-1,C=w+1===p?s+1:s,L=at(r,r+C-1,S,x,f);return t.exports.createElement(Me,ce({className:n,index:r,component:"td",prefixCls:d,record:null,dataIndex:null,align:i,colSpan:C,rowSpan:c,render:function(){return o}},L))}var cr=["children"];function ur(e){var n=e.children,r=ge(e,cr);return t.exports.createElement("tr",r,n)}function Ve(e){var n=e.children;return n}Ve.Row=ur;Ve.Cell=ir;function Ae(e){var n=e.children,r=e.stickyOffsets,o=e.flattenColumns,a=t.exports.useContext(de),s=a.prefixCls,c=o.length-1,i=o[c],l=t.exports.useMemo(function(){return{stickyOffsets:r,flattenColumns:o,scrollColumnIndex:i!=null&&i.scrollbar?c:null}},[i,o,c,r]);return t.exports.createElement(rn.Provider,{value:l},t.exports.createElement("tfoot",{className:"".concat(s,"-summary")},n))}var dr=Ve;function fr(e){var n,r=e.prefixCls,o=e.record,a=e.onExpand,s=e.expanded,c=e.expandable,i="".concat(r,"-row-expand-icon");if(!c)return t.exports.createElement("span",{className:ue(i,"".concat(r,"-row-spaced"))});var l=function(f){a(o,f),f.stopPropagation()};return t.exports.createElement("span",{className:ue(i,(n={},T(n,"".concat(r,"-row-expanded"),s),T(n,"".concat(r,"-row-collapsed"),!s),n)),onClick:l})}function pr(e,n,r){var o=[];function a(s){(s||[]).forEach(function(c,i){o.push(n(c,i)),a(c[r])})}return a(e),o}var xr=function(n,r){var o,a,s=n.scrollBodyRef,c=n.onScroll,i=n.offsetScroll,l=n.container,d=t.exports.useContext(de),f=d.prefixCls,u=((o=s.current)===null||o===void 0?void 0:o.scrollWidth)||0,p=((a=s.current)===null||a===void 0?void 0:a.clientWidth)||0,x=u&&p*(p/u),S=t.exports.useRef(),w=tn({scrollLeft:0,isHiddenScrollBar:!1}),C=X(w,2),L=C[0],g=C[1],F=t.exports.useRef({delta:0,x:0}),k=t.exports.useState(!1),O=X(k,2),B=O[0],W=O[1],M=function(){W(!1)},H=function(h){h.persist(),F.current.delta=h.pageX-L.scrollLeft,F.current.x=0,W(!0),h.preventDefault()},K=function(h){var z,y=h||((z=window)===null||z===void 0?void 0:z.event),E=y.buttons;if(!B||E===0){B&&W(!1);return}var v=F.current.x+h.pageX-F.current.x-F.current.delta;v<=0&&(v=0),v+x>=p&&(v=p-x),c({scrollLeft:v/p*(u+2)}),F.current.x=h.pageX},P=function(){if(!!s.current){var h=Ht(s.current).top,z=h+s.current.offsetHeight,y=l===window?document.documentElement.scrollTop+window.innerHeight:Ht(l).top+l.clientHeight;z-$t()<=y||h>=y-i?g(function(E){return m(m({},E),{},{isHiddenScrollBar:!0})}):g(function(E){return m(m({},E),{},{isHiddenScrollBar:!1})})}},I=function(h){g(function(z){return m(m({},z),{},{scrollLeft:h/u*p||0})})};return t.exports.useImperativeHandle(r,function(){return{setScrollLeft:I}}),t.exports.useEffect(function(){var $=Ke(document.body,"mouseup",M,!1),h=Ke(document.body,"mousemove",K,!1);return P(),function(){$.remove(),h.remove()}},[x,B]),t.exports.useEffect(function(){var $=Ke(l,"scroll",P,!1),h=Ke(window,"resize",P,!1);return function(){$.remove(),h.remove()}},[l]),t.exports.useEffect(function(){L.isHiddenScrollBar||g(function($){var h=s.current;return h?m(m({},$),{},{scrollLeft:h.scrollLeft/h.scrollWidth*h.clientWidth}):$})},[L.isHiddenScrollBar]),u<=p||!x||L.isHiddenScrollBar?null:t.exports.createElement("div",{style:{height:$t(),width:p,bottom:i},className:"".concat(f,"-sticky-scroll")},t.exports.createElement("div",{onMouseDown:H,ref:S,className:ue("".concat(f,"-sticky-scroll-bar"),T({},"".concat(f,"-sticky-scroll-bar-active"),B)),style:{width:"".concat(x,"px"),transform:"translate3d(".concat(L.scrollLeft,"px, 0, 0)")}}))},mr=t.exports.forwardRef(xr),Wt=$n()?window:null;function vr(e,n){var r=De(e)==="object"?e:{},o=r.offsetHeader,a=o===void 0?0:o,s=r.offsetSummary,c=s===void 0?0:s,i=r.offsetScroll,l=i===void 0?0:i,d=r.getContainer,f=d===void 0?function(){return Wt}:d,u=f()||Wt;return t.exports.useMemo(function(){var p=!!e;return{isSticky:p,stickyClassName:p?"".concat(n,"-sticky-holder"):"",offsetHeader:a,offsetSummary:c,offsetScroll:l,container:u}},[l,a,c,n,u])}var Cr=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function yr(e,n){return t.exports.useMemo(function(){for(var r=[],o=0;o<n;o+=1){var a=e[o];if(a!==void 0)r[o]=a;else return null}return r},[e.join("_"),n])}var rt=t.exports.forwardRef(function(e,n){var r=e.className,o=e.noData,a=e.columns,s=e.flattenColumns,c=e.colWidths,i=e.columCount,l=e.stickyOffsets,d=e.direction,f=e.fixHeader,u=e.stickyTopOffset,p=e.stickyBottomOffset,x=e.stickyClassName,S=e.onScroll,w=e.maxContentScroll,C=e.children,L=ge(e,Cr),g=t.exports.useContext(de),F=g.prefixCls,k=g.scrollbarSize,O=g.isSticky,B=O&&!f?0:k,W=t.exports.useRef(null),M=t.exports.useCallback(function(y){Pt(n,y),Pt(W,y)},[]);t.exports.useEffect(function(){var y;function E(v){var j=v.currentTarget,Y=v.deltaX;Y&&(S({currentTarget:j,scrollLeft:j.scrollLeft+Y}),v.preventDefault())}return(y=W.current)===null||y===void 0||y.addEventListener("wheel",E),function(){var v;(v=W.current)===null||v===void 0||v.removeEventListener("wheel",E)}},[]);var H=t.exports.useMemo(function(){return s.every(function(y){return y.width>=0})},[s]),K=s[s.length-1],P={fixed:K?K.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(F,"-cell-scrollbar")}}},I=t.exports.useMemo(function(){return B?[].concat(Z(a),[P]):a},[B,a]),$=t.exports.useMemo(function(){return B?[].concat(Z(s),[P]):s},[B,s]),h=t.exports.useMemo(function(){var y=l.right,E=l.left;return m(m({},l),{},{left:d==="rtl"?[].concat(Z(E.map(function(v){return v+B})),[0]):E,right:d==="rtl"?y:[].concat(Z(y.map(function(v){return v+B})),[0]),isSticky:O})},[B,l,O]),z=yr(c,i);return t.exports.createElement("div",{style:m({overflow:"hidden"},O?{top:u,bottom:p}:{}),ref:M,className:ue(r,T({},x,!!x))},t.exports.createElement("table",{style:{tableLayout:"fixed",visibility:o||z?null:"hidden"}},(!o||!w||H)&&t.exports.createElement(nn,{colWidths:z?[].concat(Z(z),[B]):[],columCount:i+1,columns:$}),C(m(m({},L),{},{stickyOffsets:h,columns:I,flattenColumns:$}))))});rt.displayName="FixedHolder";var hr=[],Rr={},et="rc-table-internal-hook",Sr=t.exports.memo(function(e){var n=e.children;return n},function(e,n){return Ft(e.props,n.props)?e.pingLeft!==n.pingLeft||e.pingRight!==n.pingRight:!1});function Ie(e){var n,r=e.prefixCls,o=e.className,a=e.rowClassName,s=e.style,c=e.data,i=e.rowKey,l=e.scroll,d=e.tableLayout,f=e.direction,u=e.title,p=e.footer,x=e.summary,S=e.id,w=e.showHeader,C=e.components,L=e.emptyText,g=e.onRow,F=e.onHeaderRow,k=e.internalHooks,O=e.transformColumns,B=e.internalRefs,W=e.sticky,M=c||hr,H=!!M.length,K=t.exports.useCallback(function(R,b){return At(C||{},R)||b},[C]),P=t.exports.useMemo(function(){return typeof i=="function"?i:function(R){var b=R&&R[i];return b}},[i]),I=er(e),$=I.expandIcon,h=I.expandedRowKeys,z=I.defaultExpandedRowKeys,y=I.defaultExpandAllRows,E=I.expandedRowRender,v=I.onExpand,j=I.onExpandedRowsChange,Y=I.expandRowByClick,me=I.rowExpandable,q=I.expandIconColumnIndex,V=I.expandedRowClassName,G=I.childrenColumnName,he=I.indentSize,ne=$||fr,Re=G||"children",Ee=t.exports.useMemo(function(){return E?"row":e.expandable&&k===et&&e.expandable.__PARENT_RENDER_ICON__||M.some(function(R){return R&&De(R)==="object"&&R[Re]})?"nest":!1},[!!E,M]),Ne=t.exports.useState(function(){return z||(y?pr(M,P,Re):[])}),ve=X(Ne,2),fe=ve[0],U=ve[1],D=t.exports.useMemo(function(){return new Set(h||fe||[])},[h,fe]),_=t.exports.useCallback(function(R){var b=P(R,M.indexOf(R)),A,J=D.has(b);J?(D.delete(b),A=Z(D)):A=[].concat(Z(D),[b]),U(A),v&&v(!J,R),j&&j(A)},[P,D,M,v,j]),ee=t.exports.useState(0),re=X(ee,2),oe=re[0],ae=re[1],Se=or(m(m(m({},e),I),{},{expandable:!!E,expandedKeys:D,getRowKey:P,onTriggerExpand:_,expandIcon:ne,expandIconColumnIndex:q,direction:f}),k===et?O:null),le=X(Se,2),Q=le[0],N=le[1],pe=t.exports.useMemo(function(){return{columns:Q,flattenColumns:N}},[Q,N]),$e=t.exports.useRef(),st=t.exports.useRef(),se=t.exports.useRef(),it=t.exports.useRef(),ct=t.exports.useRef(),on=t.exports.useState(!1),ut=X(on,2),dt=ut[0],He=ut[1],an=t.exports.useState(!1),ft=X(an,2),pt=ft[0],Pe=ft[1],ln=tn(new Map),xt=X(ln,2),sn=xt[0],cn=xt[1],un=Ue(N),mt=un.map(function(R){return sn.get(R)}),vt=t.exports.useMemo(function(){return mt},[mt.join("_")]),be=lr(vt,N.length,f),te=l&&tt(l.y),ie=l&&tt(l.x)||Boolean(I.fixed),Te=ie&&N.some(function(R){var b=R.fixed;return b}),Ct=t.exports.useRef(),ke=vr(W,r),Ce=ke.isSticky,dn=ke.offsetHeader,fn=ke.offsetSummary,pn=ke.offsetScroll,xn=ke.stickyClassName,mn=ke.container,xe=x==null?void 0:x(M),Be=(te||Ce)&&t.exports.isValidElement(xe)&&xe.type===Ve&&xe.props.fixed,Xe,Oe,je;te&&(Oe={overflowY:"scroll",maxHeight:l.y}),ie&&(Xe={overflowX:"auto"},te||(Oe={overflowY:"hidden"}),je={width:(l==null?void 0:l.x)===!0?"auto":l==null?void 0:l.x,minWidth:"100%"});var yt=t.exports.useCallback(function(R,b){Hn($e.current)&&cn(function(A){if(A.get(R)!==b){var J=new Map(A);return J.set(R,b),J}return A})},[]),vn=ar(null),ht=X(vn,2),Cn=ht[0],Rt=ht[1];function ze(R,b){!b||(typeof b=="function"?b(R):b.scrollLeft!==R&&(b.scrollLeft=R))}var Le=function(b){var A=b.currentTarget,J=b.scrollLeft,Tn=f==="rtl",ye=typeof J=="number"?J:A.scrollLeft,It=A||Rr;if(!Rt()||Rt()===It){var Qe;Cn(It),ze(ye,st.current),ze(ye,se.current),ze(ye,ct.current),ze(ye,(Qe=Ct.current)===null||Qe===void 0?void 0:Qe.setScrollLeft)}if(A){var Je=A.scrollWidth,Ze=A.clientWidth;if(Je===Ze){He(!1),Pe(!1);return}Tn?(He(-ye<Je-Ze),Pe(-ye>0)):(He(ye>0),Pe(ye<Je-Ze))}},St=function(){ie&&se.current?Le({currentTarget:se.current}):(He(!1),Pe(!1))},yn=function(b){var A=b.width;A!==oe&&(St(),ae($e.current?$e.current.offsetWidth:A))},wt=t.exports.useRef(!1);t.exports.useEffect(function(){wt.current&&St()},[ie,c,Q.length]),t.exports.useEffect(function(){wt.current=!0},[]);var hn=t.exports.useState(0),gt=X(hn,2),We=gt[0],Et=gt[1],Rn=t.exports.useState(!0),Nt=X(Rn,2),Sn=Nt[0],wn=Nt[1];t.exports.useEffect(function(){se.current instanceof Element?Et(Bt(se.current).width):Et(Bt(it.current).width),wn(Pn("position","sticky"))},[]),t.exports.useEffect(function(){k===et&&B&&(B.body.current=se.current)});var bt=K(["table"],"table"),Fe=t.exports.useMemo(function(){return d||(Te?(l==null?void 0:l.x)==="max-content"?"auto":"fixed":te||Ce||N.some(function(R){var b=R.ellipsis;return b})?"fixed":"auto")},[te,Te,N,d,Ce]),Ye,Ge={colWidths:vt,columCount:N.length,stickyOffsets:be,onHeaderRow:F,fixHeader:te,scroll:l},gn=t.exports.useMemo(function(){return H?null:typeof L=="function"?L():L},[H,L]),kt=t.exports.createElement(Jt,{data:M,measureColumnWidth:te||ie||Ce,expandedKeys:D,rowExpandable:me,getRowKey:P,onRow:g,emptyNode:gn,childrenColumnName:Re}),Lt=t.exports.createElement(nn,{colWidths:N.map(function(R){var b=R.width;return b}),columns:N}),Tt=K(["body"]);if(te||Ce){var _e;typeof Tt=="function"?(_e=Tt(M,{scrollbarSize:We,ref:se,onScroll:Le}),Ge.colWidths=N.map(function(R,b){var A=R.width,J=b===Q.length-1?A-We:A;return typeof J=="number"&&!Number.isNaN(J)?J:(Bn(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):_e=t.exports.createElement("div",{style:m(m({},Xe),Oe),onScroll:Le,ref:se,className:ue("".concat(r,"-body"))},t.exports.createElement(bt,{style:m(m({},je),{},{tableLayout:Fe})},Lt,kt,!Be&&xe&&t.exports.createElement(Ae,{stickyOffsets:be,flattenColumns:N},xe)));var Mt=m(m(m({noData:!M.length,maxContentScroll:ie&&l.x==="max-content"},Ge),pe),{},{direction:f,stickyClassName:xn,onScroll:Le});Ye=t.exports.createElement(t.exports.Fragment,null,w!==!1&&t.exports.createElement(rt,ce({},Mt,{stickyTopOffset:dn,className:"".concat(r,"-header"),ref:st}),function(R){return t.exports.createElement(t.exports.Fragment,null,t.exports.createElement(Ot,R),Be==="top"&&t.exports.createElement(Ae,R,xe))}),_e,Be&&Be!=="top"&&t.exports.createElement(rt,ce({},Mt,{stickyBottomOffset:fn,className:"".concat(r,"-summary"),ref:ct}),function(R){return t.exports.createElement(Ae,R,xe)}),Ce&&t.exports.createElement(mr,{ref:Ct,offsetScroll:pn,scrollBodyRef:se,onScroll:Le,container:mn}))}else Ye=t.exports.createElement("div",{style:m(m({},Xe),Oe),className:ue("".concat(r,"-content")),onScroll:Le,ref:se},t.exports.createElement(bt,{style:m(m({},je),{},{tableLayout:Fe})},Lt,w!==!1&&t.exports.createElement(Ot,ce({},Ge,pe)),kt,xe&&t.exports.createElement(Ae,{stickyOffsets:be,flattenColumns:N},xe)));var En=On(e,{aria:!0,data:!0}),qe=t.exports.createElement("div",ce({className:ue(r,o,(n={},T(n,"".concat(r,"-rtl"),f==="rtl"),T(n,"".concat(r,"-ping-left"),dt),T(n,"".concat(r,"-ping-right"),pt),T(n,"".concat(r,"-layout-fixed"),d==="fixed"),T(n,"".concat(r,"-fixed-header"),te),T(n,"".concat(r,"-fixed-column"),Te),T(n,"".concat(r,"-scroll-horizontal"),ie),T(n,"".concat(r,"-has-fix-left"),N[0]&&N[0].fixed),T(n,"".concat(r,"-has-fix-right"),N[N.length-1]&&N[N.length-1].fixed==="right"),n)),style:s,id:S,ref:$e},En),t.exports.createElement(Sr,{pingLeft:dt,pingRight:pt,props:m(m({},e),{},{stickyOffsets:be,mergedExpandedKeys:D})},u&&t.exports.createElement(zt,{className:"".concat(r,"-title")},u(M)),t.exports.createElement("div",{ref:it,className:"".concat(r,"-container")},Ye),p&&t.exports.createElement(zt,{className:"".concat(r,"-footer")},p(M))));ie&&(qe=t.exports.createElement(ot,{onResize:yn},qe));var Nn=t.exports.useMemo(function(){return{prefixCls:r,getComponent:K,scrollbarSize:We,direction:f,fixedInfoList:N.map(function(R,b){return at(b,b,N,be,f)}),isSticky:Ce}},[r,K,We,f,N,be,Ce]),bn=t.exports.useMemo(function(){return m(m({},pe),{},{tableLayout:Fe,rowClassName:a,expandedRowClassName:V,expandIcon:ne,expandableType:Ee,expandRowByClick:Y,expandedRowRender:E,onTriggerExpand:_,expandIconColumnIndex:q,indentSize:he})},[pe,Fe,a,V,ne,Ee,Y,E,_,q,he]),kn=t.exports.useMemo(function(){return{componentWidth:oe,fixHeader:te,fixColumn:Te,horizonScroll:ie}},[oe,te,Te,ie]),Ln=t.exports.useMemo(function(){return{onColumnResize:yt}},[yt]);return t.exports.createElement(Dt.Provider,{value:Sn},t.exports.createElement(de.Provider,{value:Nn},t.exports.createElement(lt.Provider,{value:bn},t.exports.createElement(Yt.Provider,{value:kn},t.exports.createElement(_t.Provider,{value:Ln},qe)))))}Ie.EXPAND_COLUMN=we;Ie.Column=Wn;Ie.ColumnGroup=zn;Ie.Summary=dr;Ie.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};export{dr as F,Zt as I,Ie as T,et as a,en as c};
