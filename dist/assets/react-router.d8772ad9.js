import{p as v,A as w}from"./history.9fc37d5c.js";import{r as o}from"./react.5be2fbc9.js";/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const P=o.exports.createContext(null),C=o.exports.createContext(null),x=o.exports.createContext({outlet:null,matches:[]});function d(e,t){if(!e)throw new Error(t)}function I(e,t,a){a===void 0&&(a="/");let l=typeof t=="string"?v(t):t,n=E(l.pathname||"/",a);if(n==null)return null;let r=$(e);N(r);let i=null;for(let s=0;i==null&&s<r.length;++s)i=F(r[s],n);return i}function $(e,t,a,l){return t===void 0&&(t=[]),a===void 0&&(a=[]),l===void 0&&(l=""),e.forEach((n,r)=>{let i={relativePath:n.path||"",caseSensitive:n.caseSensitive===!0,childrenIndex:r,route:n};i.relativePath.startsWith("/")&&(i.relativePath.startsWith(l)||d(!1),i.relativePath=i.relativePath.slice(l.length));let s=f([l,i.relativePath]),u=a.concat(i);n.children&&n.children.length>0&&(n.index===!0&&d(!1),$(n.children,t,u,s)),!(n.path==null&&!n.index)&&t.push({path:s,score:H(s,n.index),routesMeta:u})}),t}function N(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:T(t.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}const J=/^:\w+$/,M=3,V=2,L=1,k=10,z=-2,W=e=>e==="*";function H(e,t){let a=e.split("/"),l=a.length;return a.some(W)&&(l+=z),t&&(l+=V),a.filter(n=>!W(n)).reduce((n,r)=>n+(J.test(r)?M:r===""?L:k),l)}function T(e,t){return e.length===t.length&&e.slice(0,-1).every((l,n)=>l===t[n])?e[e.length-1]-t[t.length-1]:0}function F(e,t){let{routesMeta:a}=e,l={},n="/",r=[];for(let i=0;i<a.length;++i){let s=a[i],u=i===a.length-1,c=n==="/"?t:t.slice(n.length)||"/",h=U({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!h)return null;Object.assign(l,h.params);let m=s.route;r.push({params:l,pathname:f([n,h.pathname]),pathnameBase:j(f([n,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(n=f([n,h.pathnameBase]))}return r}function U(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,l]=b(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let r=n[0],i=r.replace(/(.)\/+$/,"$1"),s=n.slice(1);return{params:l.reduce((c,h,m)=>{if(h==="*"){let p=s[m]||"";i=r.slice(0,r.length-p.length).replace(/(.)\/+$/,"$1")}return c[h]=D(s[m]||""),c},{}),pathname:r,pathnameBase:i,pattern:e}}function b(e,t,a){t===void 0&&(t=!1),a===void 0&&(a=!0);let l=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(i,s)=>(l.push(s),"([^\\/]+)"));return e.endsWith("*")?(l.push("*"),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n+=a?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(n,t?void 0:"i"),l]}function D(e,t){try{return decodeURIComponent(e)}catch{return e}}function G(e,t){t===void 0&&(t="/");let{pathname:a,search:l="",hash:n=""}=typeof e=="string"?v(e):e;return{pathname:a?a.startsWith("/")?a:_(a,t):t,search:K(l),hash:Q(n)}}function _(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function O(e,t,a){let l=typeof e=="string"?v(e):e,n=e===""||l.pathname===""?"/":l.pathname,r;if(n==null)r=a;else{let s=t.length-1;if(n.startsWith("..")){let u=n.split("/");for(;u[0]==="..";)u.shift(),s-=1;l.pathname=u.join("/")}r=s>=0?t[s]:"/"}let i=G(l,r);return n&&n!=="/"&&n.endsWith("/")&&!i.pathname.endsWith("/")&&(i.pathname+="/"),i}function q(e){return e===""||e.pathname===""?"/":typeof e=="string"?v(e).pathname:e.pathname}function E(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=e.charAt(t.length);return a&&a!=="/"?null:e.slice(t.length)||"/"}const f=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Q=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ne(e){g()||d(!1);let{basename:t,navigator:a}=o.exports.useContext(P),{hash:l,pathname:n,search:r}=Z(e),i=n;if(t!=="/"){let s=q(e),u=s!=null&&s.endsWith("/");i=n==="/"?t+(u?"/":""):f([t,n])}return a.createHref({pathname:i,search:r,hash:l})}function g(){return o.exports.useContext(C)!=null}function S(){return g()||d(!1),o.exports.useContext(C).location}function ae(){g()||d(!1);let{basename:e,navigator:t}=o.exports.useContext(P),{matches:a}=o.exports.useContext(x),{pathname:l}=S(),n=JSON.stringify(a.map(s=>s.pathnameBase)),r=o.exports.useRef(!1);return o.exports.useEffect(()=>{r.current=!0}),o.exports.useCallback(function(s,u){if(u===void 0&&(u={}),!r.current)return;if(typeof s=="number"){t.go(s);return}let c=O(s,JSON.parse(n),l);e!=="/"&&(c.pathname=f([e,c.pathname])),(u.replace?t.replace:t.push)(c,u.state)},[e,t,n,l])}const X=o.exports.createContext(null);function Y(e){let t=o.exports.useContext(x).outlet;return t&&o.exports.createElement(X.Provider,{value:e},t)}function Z(e){let{matches:t}=o.exports.useContext(x),{pathname:a}=S(),l=JSON.stringify(t.map(n=>n.pathnameBase));return o.exports.useMemo(()=>O(e,JSON.parse(l),a),[e,l,a])}function le(e,t){g()||d(!1);let{matches:a}=o.exports.useContext(x),l=a[a.length-1],n=l?l.params:{};l&&l.pathname;let r=l?l.pathnameBase:"/";l&&l.route;let i=S(),s;if(t){var u;let p=typeof t=="string"?v(t):t;r==="/"||((u=p.pathname)==null?void 0:u.startsWith(r))||d(!1),s=p}else s=i;let c=s.pathname||"/",h=r==="/"?c:c.slice(r.length)||"/",m=I(e,{pathname:h});return A(m&&m.map(p=>Object.assign({},p,{params:Object.assign({},n,p.params),pathname:f([r,p.pathname]),pathnameBase:p.pathnameBase==="/"?r:f([r,p.pathnameBase])})),a)}function A(e,t){return t===void 0&&(t=[]),e==null?null:e.reduceRight((a,l,n)=>o.exports.createElement(x.Provider,{children:l.route.element!==void 0?l.route.element:a,value:{outlet:a,matches:t.concat(e.slice(0,n+1))}}),null)}function re(e){return Y(e.context)}function se(e){let{basename:t="/",children:a=null,location:l,navigationType:n=w.Pop,navigator:r,static:i=!1}=e;g()&&d(!1);let s=j(t),u=o.exports.useMemo(()=>({basename:s,navigator:r,static:i}),[s,r,i]);typeof l=="string"&&(l=v(l));let{pathname:c="/",search:h="",hash:m="",state:p=null,key:y="default"}=l,R=o.exports.useMemo(()=>{let B=E(c,s);return B==null?null:{pathname:B,search:h,hash:m,state:p,key:y}},[s,c,h,m,p,y]);return R==null?null:o.exports.createElement(P.Provider,{value:u},o.exports.createElement(C.Provider,{children:a,value:{location:R,navigationType:n}}))}export{re as O,se as R,ae as a,S as b,Z as c,le as d,ne as u};
